# Gemini Chatbot with Live2D (Natori Edition)

Live2Dキャラクター「Natori」を使用したGemini APIチャットボットです。

## 最新の更新 (v2.3.0)

### プロジェクト整理・最適化
- **不要ファイル削除**: 開発中に作成された空ファイルと旧版ファイルを整理
- **コードベース最適化**: 使用されていないテスト用一時ファイルを削除
- **リップシンク機能強化**: Web Audio API対応の高精度リップシンク実装完了

## 過去の更新 (v2.2.0)

### 感情表現制御システムの改善
- **音声終了まで感情キープ**: 従来の1.5秒固定から音声終了まで感情表現を維持するように変更
- **中立優先設定**: 些細なことでhappyにならず、基本的に中立（normal）を優先するように調整
- **happy感情の制限**: 「良い」「nice」「順調」など一般的すぎる単語をhappy判定から除外
- **neutral感情の強化**: 一般的な肯定的表現をneutralに移動し、検出感度を向上

### 技術的変更
- `live2d-pixi.js`: 音声終了時の自動表情復帰を無効化
- `emotion-analyzer-v2.js`: 感情キーワード辞書の調整と音声終了連動システム追加
- `script.js`: 全音声エンジンの終了イベントに感情復元処理を連携

## 機能

- Google Gemini APIとの自然な対話
- Live2Dキャラクターの感情ベース表情・モーション制御
- 3つの音声エンジン対応（Web Speech API、Google Cloud TTS、AivisSpeech）
- リアルタイム感情分析による自動表情変更
- 音声終了連動型感情制御システム

## セットアップ

詳細な技術仕様と設定方法は `docs/SPECIFICATION.md` を参照してください。

## 変更履歴

- **v2.3.0** (2025/6/8): プロジェクト整理・最適化、リップシンク機能強化
- **v2.2.0** (2025/6/7): 感情表現制御システム改善
- **v2.1.0** (2025/6/7): 感情ベースモーション制御システム追加
- **v2.0.0** (2025/6/2): Live2D統合とマルチ音声エンジン対応
